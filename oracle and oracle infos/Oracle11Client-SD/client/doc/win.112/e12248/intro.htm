<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.1 Build 026" />
<meta name="Date" content="2010-02-04T18:10:51Z" />
<meta name="doctitle" content="Oracle&reg; Database Extensions for .NET Developer's Guide 11g Release 2 (11.2) for Microsoft Windows" />
<meta name="partno" content="E12248-01" />
<meta name="docid" content="CLRNT" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="whatsnew.htm" title="Previous" type="text/html" />
<link rel="Next" href="install.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12248.pdf" title="PDF version" type="application/pdf" />
<title>Introduction to Oracle Database Extensions&nbsp;for .NET</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Database Extensions for .NET Developer's Guide<br />
11<i>g</i> Release 2 (11.2) for Microsoft Windows</b><br />
Part Number E12248-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="whatsnew.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="install.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e12248.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="CHDHJHJF" name="CHDHJHJF"></a><a id="CLRNT0001" name="CLRNT0001"></a>
<h1 class="chapter"><span class="secnum">1</span> Introduction to Oracle Database Extensions&nbsp;for .NET</h1>
<p>This chapter introduces Oracle Database Extensions for .NET, which makes it possible to build and run .NET stored procedures or functions with Oracle Database for Microsoft Windows.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#BABEDDEJ">Oracle Database Extensions for .NET Overview</a></p>
</li>
<li>
<p><a href="#BABCCJJD">Oracle Database Extensions for .NET Architecture</a></p>
</li>
<li>
<p><a href="#BABJBHEC">Oracle Data Provider for .NET</a></p>
</li>
<li>
<p><a href="#BHCFHIAJ">Oracle Developer Tools for Visual Studio</a></p>
</li>
<li>
<p><a href="#BABHHHHH">Oracle Deployment Wizard for .NET</a></p>
</li>
</ul>
<a id="BABEDDEJ" name="BABEDDEJ"></a><a id="CLRNT112" name="CLRNT112"></a>
<div class="sect1">
<h2 class="sect1">Oracle Database Extensions for .NET Overview<a id="sthref10" name="sthref10"></a><a id="sthref11" name="sthref11"></a><a id="sthref12" name="sthref12"></a><a id="sthref13" name="sthref13"></a><a id="sthref14" name="sthref14"></a><a id="sthref15" name="sthref15"></a><a id="sthref16" name="sthref16"></a><a id="sthref17" name="sthref17"></a><a id="sthref18" name="sthref18"></a><a id="sthref19" name="sthref19"></a><a id="sthref20" name="sthref20"></a><a id="sthref21" name="sthref21"></a><a id="sthref22" name="sthref22"></a><a id="sthref23" name="sthref23"></a><a id="sthref24" name="sthref24"></a><a id="sthref25" name="sthref25"></a><a id="sthref26" name="sthref26"></a><a id="sthref27" name="sthref27"></a><a id="sthref28" name="sthref28"></a><a id="sthref29" name="sthref29"></a></h2>
<p>Oracle Database Extensions for .NET provides the following:</p>
<ul>
<li>
<p>A Common Language Runtime (CLR) host for Oracle Database</p>
</li>
<li>
<p>Data access through Oracle Data Provider for .NET classes</p>
</li>
<li>
<p>Oracle Deployment Wizard for Visual Studio</p>
</li>
</ul>
<p>The Oracle Database hosts the Microsoft Common Language Runtime (CLR) in an external process, outside of the Oracle database process. The integration of Oracle Database with the Microsoft Common Language Runtime (CLR) enables applications to run .NET stored procedures or functions on Oracle Database, on Microsoft Windows Vista, Windows 2003, Windows 2000, and Windows XP.</p>
<p>Application developers can write stored procedures and functions using any .NET compliant language, such as C# and VB.NET, and use these .NET stored procedures in the database, in the same manner as other PL/SQL or Java stored procedures. .NET stored procedures can be called from PL/SQL packages, procedures, functions, and triggers; from SQL statements, or from anywhere a PL/SQL procedure or function can be called.</p>
<p>Application developers build .NET procedures or functions into a .NET assembly, typically using Microsoft Visual Studio. Oracle Data Provider for .NET is used in .NET stored procedures and functions for data access. After building .NET procedures and functions into a .NET assembly, developers deploy them in Oracle Database, using the Oracle Deployment Wizard for .NET, a component of the Oracle Developer Tools for Visual Studio.</p>
<p>The .NET stored procedure or function appears to the caller as a PL/SQL stored procedure or function because a PL/SQL wrapper has been generated for it. The user invokes a .NET stored procedure or function through this PL/SQL wrapper. Oracle Deployment Wizard for .NET determines the probable mappings between Oracle data types and .NET data types, which the user can override. The mappings are handled seamlessly by the PL/SQL wrapper.</p>
</div>
<!-- class="sect1" -->
<a id="BABCCJJD" name="BABCCJJD"></a><a id="CLRNT113" name="CLRNT113"></a>
<div class="sect1">
<h2 class="sect1">Oracle Database Extensions for .NET Architecture<a id="sthref30" name="sthref30"></a><a id="sthref31" name="sthref31"></a><a id="sthref32" name="sthref32"></a><a id="sthref33" name="sthref33"></a><a id="sthref34" name="sthref34"></a><a id="sthref35" name="sthref35"></a><a id="sthref36" name="sthref36"></a><a id="sthref37" name="sthref37"></a></h2>
<img width="597" height="272" src="img/clrnt001.gif" alt="Description of clrnt001.gif follows" title="Description of clrnt001.gif follows" longdesc="img_text/clrnt001.htm" /><br />
<a id="sthref38" name="sthref38" href="img_text/clrnt001.htm">Description of the illustration clrnt001.gif</a><br />
<br />
<p>This architecture diagram shows the client application and then two process spaces, the Oracle process space and the external process space.</p>
<p>The Oracle process space includes the Oracle database instance and hosts the PL/SQL wrapper.</p>
<p>The external process space includes the Oracle CLR host, in which .NET stored procedures or functions are executed.</p>
<a id="BABICHJI" name="BABICHJI"></a><a id="CLRNT114" name="CLRNT114"></a>
<div class="sect2">
<h3 class="sect2">Oracle CLR Host<a id="sthref39" name="sthref39"></a><a id="sthref40" name="sthref40"></a></h3>
<p>The Oracle CLR host is installed as part of Oracle Database Extensions for .NET installation and runs in the <code>extproc</code> process. The <code>extproc</code> process loads the Oracle CLR host which in turn loads an instance of the Microsoft Common Language Runtime (CLR), thus providing an interface for the wrapped PL/SQL procedure. These mechanics are not visible to the users. From a user's point of view, the application is invoking just another PL/SQL stored procedure or function.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
The Microsoft .NET Framework must be installed on the same computer as the database.</div>
</div>
<!-- class="sect2" -->
<a id="BHCCECCC" name="BHCCECCC"></a><a id="CLRNT115" name="CLRNT115"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">External Processes</h3>
<p>.NET stored procedures or functions are hosted in a process external to the Oracle Database. This external process is a heterogeneous service agent called <code>extproc</code>, external procedure agent, or external process. This guide uses the terms <code>extproc</code> process or <code>extproc</code> agent.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink HETER004" href="http://www.oracle.com/pls/db102/lookup?id=HETER004"><span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span></a></p>
</div>
<p>The <code>extproc</code> process supports the following architectures:</p>
<ul>
<li>
<p><a href="#BHCJDAHF">Dedicated Agent Architecture</a></p>
</li>
<li>
<p><a href="#BHCFGHGB">Multithreaded Agent Architecture</a></p>
</li>
</ul>
<a id="BHCJDAHF" name="BHCJDAHF"></a><a id="CLRNT116" name="CLRNT116"></a>
<div class="sect3">
<h4 class="sect3">Dedicated Agent Architecture</h4>
<p>In dedicated (that is, single-threaded) agent architecture, an <code>extproc</code> process is started for each user session. The process terminates when the user session ends. This architecture can consume an unnecessarily large amount of system resources since, with every user session, a new <code>extproc</code> process must be started and shut down. Therefore dedicated agent architecture does not perform well in terms of system resources and runtime efficiency.</p>
</div>
<!-- class="sect3" -->
<a id="BHCFGHGB" name="BHCFGHGB"></a><a id="CLRNT117" name="CLRNT117"></a>
<div class="sect3">
<h4 class="sect3">Multithreaded Agent Architecture</h4>
<p>A multithreaded <code>extproc</code> process uses a pool of shared threads. The tasks requested by the user sessions are put on a queue and are picked up by the first available thread.</p>
<p>Multithreaded agent architecture allows more efficient use of system resources than dedicated architecture.</p>
<p>A separate multithreaded <code>extproc</code> process must be started for each system identifier (SID). Each TNS listener that is running on a system listens for incoming connection requests for a set of SIDs. If the SID in an incoming Oracle Net connect string is one that the listener is listening for, then that listener processes the connection. If a multithreaded process has been started for the SID, then the listener passes the request to that process.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADFNS010" href="http://www.oracle.com/pls/db102/lookup?id=ADFNS010"><span class="italic">Oracle Database Application Developer's Guide - Fundamentals</span></a></p>
</li>
<li>
<p><a class="olink ADMIN00501" href="http://www.oracle.com/pls/db102/lookup?id=ADMIN00501"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
</li>
</ul>
</div>
<a id="CLRNT118" name="CLRNT118"></a>
<div class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref41" name="sthref41"></a>
<h5 class="sect4">Real Application Clusters (RAC) and External Processes</h5>
<p>The Oracle multithreaded <code>extproc</code> process is tightly coupled with the Oracle listener. Therefore, each node in a Real Application Clusters (RAC) environment has an Oracle multithreaded <code>extproc</code> process associated with the listener on that node.</p>
</div>
<!-- class="sect4" -->
<a id="CLRNT119" name="CLRNT119"></a>
<div class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref42" name="sthref42"></a>
<h5 class="sect4">Multiple Databases Instance and External Processes</h5>
<p>A single Oracle multithreaded <code>extproc</code> process is used with multiple database instances associated with a single Oracle home if a single listener is shared among multiple database instances.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CLRNT120" name="CLRNT120"></a>
<div class="sect3"><a id="sthref43" name="sthref43"></a>
<h4 class="sect3">Listener and Tnsnames Files<a id="sthref44" name="sthref44"></a><a id="sthref45" name="sthref45"></a><a id="sthref46" name="sthref46"></a><a id="sthref47" name="sthref47"></a></h4>
<p>The following are typical examples of the <code>listener.ora</code> and <code>tnsnames.ora</code> files configured for Oracle Database Extensions for .NET. By default, Oracle Database Extensions for .NET uses <code>CLRExtProc</code> as the SID, but this can be changed using the Database Configuration Assistant (DBCA).</p>
<a id="CLRNT121" name="CLRNT121"></a>
<p class="subhead2">Listener.ora file</p>
<pre xml:space="preserve" class="oac_no_warn">SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = PLSExtProc)
      (ORACLE_HOME = C:\oracle\database_1)
      (PROGRAM = extproc)
    )
    (SID_DESC =
      (SID_NAME = CLRExtProc)
      (ORACLE_HOME = C:\oracle\database_1)
      (PROGRAM = extproc)
      (ENVS="EXTPROC_DLLS=ONLY:C:\oracle\database_1\bin\oraclr11.dll")
    )
  )
 
LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
     
    )
  )
</pre>
<a id="CLRNT122" name="CLRNT122"></a>
<p class="subhead2">Tnsnames.ora File</p>
<pre xml:space="preserve" class="oac_no_warn">ORACLE =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = user.us.oracle.com)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = oracle.us.oracle.com)
    )
  )
 
ORACLR_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
    )
    (CONNECT_DATA =
      (SID = CLRExtProc)
      (PRESENTATION = RO)
    )
  )
 
MSOLNIT-PC =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = msolnit-pc)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = orcl)
    )
  )
 
EXTPROC_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))
    )
    (CONNECT_DATA =
      (SID = PLSExtProc)
      (PRESENTATION = RO)
    )
  )
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="install.htm#CHDGBICJ">"Configuring Extproc Agent Using Windows Service"</a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJBHEC" name="BABJBHEC"></a><a id="CLRNT123" name="CLRNT123"></a>
<div class="sect1">
<h2 class="sect1">Oracle Data Provider for .NET<a id="sthref48" name="sthref48"></a><a id="sthref49" name="sthref49"></a></h2>
<p>Oracle Data Provider for .NET provides data access to the Oracle Database from any client application. Oracle Data Provider for .NET is available for free download on Oracle Technology Network (OTN).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ODPNT0018" href="../../doc/win.112/e12249/extenPorting.htm#ODPNT0018"><span class="italic">Oracle Data Provider for .NET Developer's Guide</span></a> for detailed descriptions of ODP.NET classes</div>
</div>
<!-- class="sect1" -->
<a id="BHCFHIAJ" name="BHCFHIAJ"></a><a id="CLRNT124" name="CLRNT124"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Oracle Developer Tools for Visual Studio</h2>
<p>Oracle Developer Tools for Visual Studio is a set of application tools tightly integrated with the Visual Studio development environment. Oracle Developer Tools enables developers to execute a wide range of application development tasks, such as creating tables, editing stored procedures, and viewing data in the Oracle Database. Oracle Developer Tools for Visual Studio is available for free download on Oracle Technology Network (OTN).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Developer Tools for Visual Studio Help</span></div>
</div>
<!-- class="sect1" -->
<a id="BABHHHHH" name="BABHHHHH"></a><a id="CLRNT125" name="CLRNT125"></a>
<div class="sect1">
<h2 class="sect1">Oracle Deployment Wizard for .NET<a id="sthref50" name="sthref50"></a><a id="sthref51" name="sthref51"></a><a id="sthref52" name="sthref52"></a><a id="sthref53" name="sthref53"></a></h2>
<img width="554" height="414" src="img/TitlePage.gif" alt="Description of TitlePage.gif follows" title="Description of TitlePage.gif follows" longdesc="img_text/TitlePage.htm" /><br />
<a id="sthref54" name="sthref54" href="img_text/TitlePage.htm">Description of the illustration TitlePage.gif</a><br />
<br />
<p>The Oracle Deployment Wizard for .NET is a graphical tool integrated with Microsoft Visual Studio which makes it easy to deploy any .NET procedure or function into an Oracle Database. It is installed as part of Oracle Developer Tools for Visual Studio.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Developer Tools for Visual Studio Dynamic Help</span>, available by installing Oracle Developer Tools for Visual Studio, for more information</div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="whatsnew.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="install.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2004, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
