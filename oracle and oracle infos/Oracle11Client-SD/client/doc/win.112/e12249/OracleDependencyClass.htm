<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.1 Build 026" />
<meta name="Date" content="2010-01-27T18:54:19Z" />
<meta name="doctitle" content="Oracle&reg; Data Provider for .NET Developer's Guide 11g Release 2 (11.2)" />
<meta name="partno" content="E12249-01" />
<meta name="docid" content="ODPNT" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="changenote.htm" title="Previous" type="text/html" />
<link rel="Next" href="OracleNotificationRequestClass.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12249.pdf" title="PDF version" type="application/pdf" />
<title>OracleDependency Class</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Data Provider for .NET Developer's Guide<br />
11<i>g</i> Release 2 (11.2)</b><br />
Part Number E12249-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="changenote.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="OracleNotificationRequestClass.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e12249.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BBABBDEF" name="BBABBDEF"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1"><a id="sthref2724" name="sthref2724"></a>OracleDependency Class</h1>
<p>An <code>OracleDependency</code> class represents a dependency between an application and an Oracle database, enabling the application to get notifications whenever the data of interest or the state of the Oracle database changes.</p>
<a id="sthref2725" name="sthref2725"></a>
<p class="subhead2">Class Inheritance</p>
<p><code>System.Object</code></p>
<p><code>&nbsp;&nbsp;Oracle.DataAccess.Client.OracleDependency</code></p>
<a id="sthref2726" name="sthref2726"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public sealed class OracleDependency
</pre>
<a id="sthref2727" name="sthref2727"></a>
<p class="subhead2">Thread Safety</p>
<p>All public static methods are thread-safe, although methods do not guarantee thread safety.</p>
<a id="sthref2728" name="sthref2728"></a>
<p class="subhead2">Requirements</p>
<p>Namespace: <code>Oracle.DataAccess.Client</code></p>
<p>Assembly: <code>Oracle.DataAccess.dll</code></p>
<p>Microsoft .NET Framework Version: 2.0 or later</p>
<p>Comment: Not supported in a .NET stored procedure</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
<li>
<p><a href="#BBAHJFDA">OracleDependency Constructors</a></p>
</li>
<li>
<p><a href="#BBAIDBFI">OracleDependency Static Fields</a></p>
</li>
<li>
<p><a href="#BBABDECH">OracleDependency Static Methods</a></p>
</li>
<li>
<p><a href="#BBAIEFJB">OracleDependency Methods</a></p>
</li>
<li>
<p><a href="#BBAFGGJD">OracleDependency Properties</a></p>
</li>
<li>
<p><a href="#BBADAGAB">OracleDependency Events</a></p>
</li>
</ul>
</div>
<a id="BBAEJCIB" name="BBAEJCIB"></a>
<hr />
<h2 class="refsect2"><a id="sthref2729" name="sthref2729"></a>OracleDependency Members</h2>
<p><code>OracleDependency</code> members are listed in the following tables.</p>
<a id="sthref2730" name="sthref2730"></a>
<p class="subhead1">OracleDependency Constructors</p>
<p><code>OracleDependency</code> constructors are listed in <a href="#BABBBJID">Table 9-1</a>.</p>
<div class="tblruleformal"><a id="sthref2731" name="sthref2731"></a><a id="BABBBJID" name="BABBBJID"></a>
<p class="titleintable">Table 9-1 OracleDependency Constructors</p>
<table class="RuleFormal" title="OracleDependency Constructors" summary="rows are constructors. column 1 is name. column 2 is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="39%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t5">Constructors</th>
<th align="left" valign="bottom" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t5" headers="r1c1-t5">
<p><a href="#BBAHJFDA">OracleDependency Constructors</a></p>
</td>
<td align="left" headers="r2c1-t5 r1c2-t5">
<p>Instantiates a new instance of <code>OracleDependency</code> class (Overloaded)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<a id="sthref2732" name="sthref2732"></a>
<p class="subhead1">OracleDependency Static Fields</p>
<p>The <code>OracleDependency</code> static field is listed in <a href="#CIAGFIFB">Table 9-2</a>.</p>
<div class="tblruleformal"><a id="sthref2733" name="sthref2733"></a><a id="CIAGFIFB" name="CIAGFIFB"></a>
<p class="titleintable">Table 9-2 OracleDependency Static Field</p>
<table class="RuleFormal" title="OracleDependency Static Field" summary="Rows are static fields, first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t6">Static Field</th>
<th align="left" valign="bottom" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t6" headers="r1c1-t6">
<p><a href="#BBAJCCHE">Port</a></p>
</td>
<td align="left" headers="r2c1-t6 r1c2-t6">
<p>Indicates the port number that the notification listener listens on, for database notifications</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<a id="sthref2734" name="sthref2734"></a>
<p class="subhead1">OracleDependency Static Methods</p>
<p><code>OracleDependency</code> static methods are listed in <a href="#CIADBJJH">Table 9-3</a>.</p>
<div class="tblruleformal"><a id="sthref2735" name="sthref2735"></a><a id="CIADBJJH" name="CIADBJJH"></a>
<p class="titleintable">Table 9-3 OracleDependency Static Methods</p>
<table class="RuleFormal" title="OracleDependency Static Methods" summary="Rows are static methods, first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t7">Static Methods</th>
<th align="left" valign="bottom" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t7" headers="r1c1-t7">
<p><code>Equals</code></p>
</td>
<td align="left" headers="r2c1-t7 r1c2-t7">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t7" headers="r1c1-t7">
<p><a href="#BBAFDAHJ">GetOracleDependency</a></p>
</td>
<td align="left" headers="r3c1-t7 r1c2-t7">
<p>Returns an <code>OracleDependency</code> instance based on the specified unique identifier</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<a id="sthref2736" name="sthref2736"></a>
<p class="subhead1">OracleDependency Properties</p>
<p><code>OracleDependency</code> properties are listed in <a href="#CIAJIEDC">Table 9-4</a>.</p>
<div class="tblruleformal"><a id="sthref2737" name="sthref2737"></a><a id="CIAJIEDC" name="CIAJIEDC"></a>
<p class="titleintable">Table 9-4 OracleDependency Properties</p>
<table class="RuleFormal" title="OracleDependency Properties" summary="Rows are properties. first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t8">Properties</th>
<th align="left" valign="bottom" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t8" headers="r1c1-t8">
<p><a href="#BBAEGAJJ">DataSource</a></p>
</td>
<td align="left" headers="r2c1-t8 r1c2-t8">
<p>Indicates the data source associated with the <code>OracleDependency</code> instance</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t8" headers="r1c1-t8">
<p><a href="#BBAECHGB">HasChanges</a></p>
</td>
<td align="left" headers="r3c1-t8 r1c2-t8">
<p>Indicates whether or not there is any change in the database associated with this dependency</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t8" headers="r1c1-t8">
<p><a href="#BBAEIEJJ">Id</a></p>
</td>
<td align="left" headers="r4c1-t8 r1c2-t8">
<p>Represents the unique identifier for the <code>OracleDependency</code> instance</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t8" headers="r1c1-t8">
<p><a href="#BBAHEHCI">IsEnabled</a></p>
</td>
<td align="left" headers="r5c1-t8 r1c2-t8">
<p>Specifies whether or not the dependency is enabled between the application and the database</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t8" headers="r1c1-t8">
<p><a href="#BABJADJF">QueryBasedNotification</a></p>
</td>
<td align="left" headers="r6c1-t8 r1c2-t8">
<p>Specifies whether the change notification registration is object-based or query-based</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t8" headers="r1c1-t8">
<p><a href="#BABBFFBI">RegisteredQueryIDs</a></p>
</td>
<td align="left" headers="r7c1-t8 r1c2-t8">
<p>Provides a list of <code>CHANGE_NOTIFICATION_QUERY_ID</code>s</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t8" headers="r1c1-t8">
<p><a href="#BBAGDEDH">RegisteredResources</a></p>
</td>
<td align="left" headers="r8c1-t8 r1c2-t8">
<p>Indicates the database resources that are registered in the notification registration</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t8" headers="r1c1-t8">
<p><a href="#BABGAAAH">RowidInfo</a></p>
</td>
<td align="left" headers="r9c1-t8 r1c2-t8">
<p>Specifies whether or not <code>ROWID</code> information is part of change notification events fired whenever data changes on the database</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r10c1-t8" headers="r1c1-t8">
<p><a href="#BBABBBIF">UserName</a></p>
</td>
<td align="left" headers="r10c1-t8 r1c2-t8">
<p>Indicates the database user name associated with the <code>OracleDependency</code> instance</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<a id="sthref2738" name="sthref2738"></a>
<p class="subhead1">OracleDependency Methods</p>
<p><code>OracleDependency</code> methods are listed in <a href="#CIAFDJIA">Table 9-5</a>.</p>
<div class="tblruleformal"><a id="sthref2739" name="sthref2739"></a><a id="CIAFDJIA" name="CIAFDJIA"></a>
<p class="titleintable">Table 9-5 OracleDependency Methods</p>
<table class="RuleFormal" title="OracleDependency Methods" summary="Rows are methods. first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t9">Methods</th>
<th align="left" valign="bottom" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t9" headers="r1c1-t9">
<p><a href="#BBADEBAJ">AddCommandDependency</a></p>
</td>
<td align="left" headers="r2c1-t9 r1c2-t9">
<p>Binds the <code>OracleDependency</code> instance to the specified <code>OracleCommand</code> instance</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t9" headers="r1c1-t9">
<p><code>Equals</code></p>
</td>
<td align="left" headers="r3c1-t9 r1c2-t9">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t9" headers="r1c1-t9">
<p><code>GetHashCode</code></p>
</td>
<td align="left" headers="r4c1-t9 r1c2-t9">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t9" headers="r1c1-t9">
<p><code>GetType</code></p>
</td>
<td align="left" headers="r5c1-t9 r1c2-t9">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t9" headers="r1c1-t9">
<p><a href="#BBACDEJA">RemoveRegistration</a></p>
</td>
<td align="left" headers="r6c1-t9 r1c2-t9">
<p>Removes the specified dependency between the application and the database</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t9" headers="r1c1-t9">
<p><code>ToString</code></p>
</td>
<td align="left" headers="r7c1-t9 r1c2-t9">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<a id="sthref2740" name="sthref2740"></a>
<p class="subhead1">OracleDependency Events</p>
<p>The <code>OracleDependency</code> event is listed in <a href="#CIACDGAE">Table 9-6</a>.</p>
<div class="tblruleformal"><a id="sthref2741" name="sthref2741"></a><a id="CIACDGAE" name="CIACDGAE"></a>
<p class="titleintable">Table 9-6 OracleDependency Events</p>
<table class="RuleFormal" title="OracleDependency Events" summary="Rows are events. first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t10">Event</th>
<th align="left" valign="bottom" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t10" headers="r1c1-t10">
<p><a href="#BBAIBFAI">OnChange</a></p>
</td>
<td align="left" headers="r2c1-t10 r1c2-t10">
<p>An event that is sent when a database notification associated with the dependency is received from the database</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
</ul>
</div>
<a id="BBAHJFDA" name="BBAHJFDA"></a>
<hr />
<h2 class="refsect2"><a id="sthref2742" name="sthref2742"></a>OracleDependency Constructors</h2>
<p><code>OracleDependency</code> constructors create instances of the <code>OracleDependency</code> class.</p>
<a id="sthref2743" name="sthref2743"></a>
<p class="subhead2">Overload List:</p>
<ul>
<li>
<p><a href="#BBABAJCI">OracleDependency ( )</a></p>
<p>This constructor creates an instance of the <code>OracleDependency</code> class.</p>
</li>
<li>
<p><a href="#BBACGIFF">OracleDependency(OracleCommand)</a></p>
<p>This constructor creates an instance of the <code>OracleDependency</code> class and binds it to the specified <code>OracleCommand</code> instance.</p>
</li>
<li>
<p><a href="#BBAJFECE">OracleDependency(OracleCommand, bool, int, bool)</a></p>
<p>This constructor creates an instance of the <code>OracleDependency</code> class and binds it to the specified <code>OracleCommand</code> instance, specifying whether or not a notification is to be removed upon notification, the timeout value of the notification registration, and the persistence of the notification.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBABAJCI" name="BBABAJCI"></a>
<h3 class="refsect3">OracleDependency ( )</h3>
<p>This constructor creates an instance of the <code>OracleDependency</code> class.</p>
<a id="sthref2744" name="sthref2744"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public OracleDependency ()
</pre>
<a id="sthref2745" name="sthref2745"></a>
<p class="subhead2">Remarks</p>
<p>Using this constructor does not bind any <code>OracleCommand</code> to the newly constructed <code>OracleDependency</code>. Use the <code>AddCommandDependency</code> method to do so.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
The dependency between the application and the database is not established when the <code>OracleDependency</code> instance is created. The dependency is established when the command that is associated with this dependency is executed.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBACGIFF" name="BBACGIFF"></a>
<h3 class="refsect3">OracleDependency(OracleCommand)</h3>
<p>This constructor creates an instance of the <code>OracleDependency</code> class and binds it to an <code>OracleCommand</code> instance.</p>
<a id="sthref2746" name="sthref2746"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public OracleDependency (OracleCommand <span class="italic">cmd</span>)
</pre>
<a id="sthref2747" name="sthref2747"></a>
<p class="subhead2">Parameters</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">cmd</span></code></p>
<p>The command that the <code>OracleDependecy</code> object binds to.</p>
</li>
</ul>
<a id="sthref2748" name="sthref2748"></a>
<p class="subhead2">Exceptions</p>
<p><code>ArgumentNullException</code> - The <code><span class="codeinlineitalic">cmd</span></code> parameter is null.</p>
<p><code>InvalidOperationException</code> - The specified <code>OracleCommand</code> instance already contains a notification request.</p>
<a id="sthref2749" name="sthref2749"></a>
<p class="subhead2">Remarks</p>
<p>When this <code>OracleDependency</code> constructor binds the <code>OracleCommand</code> instance to an <code>OracleDependency</code> instance, it causes the creation of an <code>OracleNotificationRequest</code> instance and then sets that <code>OracleNotificationRequest</code> instance to the <code>OracleCommand.</code><code>Notification</code> property.</p>
<p>The Continuous Query Notification is registered with the database, when the command is executed. Any of the command execution methods (for example, <code>ExecuteNonQuery</code>, <code>ExecuteReader</code>, and so on) will register the notification request. An <code>OracleDependency</code> may be bound to more than one <code>OracleCommand</code>. When one of these <code>OracleCommand</code> object statements is executed, the statement is registered with the associated <code>OracleCommand</code>. Although the registration happens on each <code>OracleCommand</code> separately, one <code>OracleDependency</code> can be responsible for detecting and sending notifications that occur for all <code>OracleCommand</code> objects that the <code>OracleDependency</code> is associated with. The <code>OnChangeEventArgs</code> that is passed to the application for the <code>OnChange</code> event provides information on what has changed in the database.</p>
<p>The <code>OracleNotificationRequest</code> instance that is created by this constructor has the following default property values:</p>
<ul>
<li>
<p><code>IsNotifiedOnce</code> is set to the value <code>True</code>.</p>
</li>
<li>
<p><code>Timeout</code> is set to 50,000 seconds.</p>
</li>
<li>
<p><code>IsPersistent</code> is set to the value <code>False</code>, that is, the invalidation message is not persistent, but is stored in an in-memory queue before delivery.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAJFECE" name="BBAJFECE"></a>
<h3 class="refsect3">OracleDependency(OracleCommand, bool, int, bool)</h3>
<p>This constructor creates an instance of the <code>OracleDependency</code> class and binds it to the specified <code>OracleCommand</code> instance, while specifying whether or not a registration is to be removed upon notification, the timeout value of the notification registration, and the persistence of the notification.</p>
<a id="sthref2750" name="sthref2750"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public OracleDependency (OracleCommand <span class="italic">cmd</span>, bool <span class="italic">isNotifiedOnce</span>, long <span class="italic">timeout</span>,
  bool <span class="italic">isPersistent</span>)
</pre>
<a id="sthref2751" name="sthref2751"></a>
<p class="subhead2">Parameters</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">cmd</span></code></p>
<p>The command associated with the Continuous Query Notification request.</p>
</li>
<li>
<p><code><span class="codeinlineitalic">isNotifiedOnce</span></code></p>
<p>An indicator that specifies whether or not the registration is removed automatically once the notification occurs.</p>
</li>
<li>
<p><code><span class="codeinlineitalic">timeout</span></code></p>
<p>The amount of time, in seconds, that the registration stays active. When <code><span class="codeinlineitalic">timeout</span></code> is set to <code>0</code>, the registration never expires. The valid values for <code><span class="codeinlineitalic">timeout</span></code> are between <code>0</code> and <code>4294967295</code>.</p>
</li>
<li>
<p><code><span class="codeinlineitalic">isPersistent</span></code></p>
<p>Indicates whether or not the invalidation message should be queued persistently in the database before delivery. If the <code><span class="codeinlineitalic">isPersistent</span></code> parameter is set to <code>True</code>, the message is queued persistently in the database and cannot be lost upon database failures or shutdowns. If the <code><span class="codeinlineitalic">isPersistent</span></code> property is set to <code>False</code>, the message is stored in an in-memory queue before delivery and might be lost.</p>
<p>Database performance is faster if the message is stored in an in-memory queue rather than in the database queue.</p>
</li>
</ul>
<a id="sthref2752" name="sthref2752"></a>
<p class="subhead2">Exceptions</p>
<p><code>ArgumentNullException</code> - The <code><span class="codeinlineitalic">cmd</span></code> parameter is null.</p>
<p><code>ArgumentOutOfRangeException</code> - The specified <code><span class="codeinlineitalic">timeout</span></code> is invalid.</p>
<p><code>InvalidOperationException</code> - The specified <code>OracleCommand</code> instance already contains a notification request.</p>
<a id="sthref2753" name="sthref2753"></a>
<p class="subhead2">Remarks</p>
<p>When this <code>OracleDependency</code> constructor binds the <code>OracleCommand</code> instance to an <code>OracleDependency</code> instance, it causes the creation of an <code>OracleNotificationRequest</code> instance and then sets that <code>OracleNotificationRequest</code> instance to the <code>OracleCommand.</code><code>Notification</code> property.</p>
<p>The Continuous Query Notification is registered with the database, when the command is executed. Any of the command execution methods (for example, <code>ExecuteNonQuery</code>, <code>ExecuteReader</code>, and so on) will register the notification request. An <code>OracleDependency</code> may be bound to more than one <code>OracleCommand</code>. When one of these <code>OracleCommand</code> object statements is executed, the statement is registered with the associated <code>OracleCommand</code>. Although the registration happens on each <code>OracleCommand</code> separately, one <code>OracleDependency</code> can be responsible for detecting and sending notifications that occur for all <code>OracleCommand</code> objects that the <code>OracleDependency</code> is associated with. The <code>OnChangeEventArgs</code> that is passed to the application for the <code>OnChange</code> event provides information on what has changed in the database.</p>
<p>The <code>OracleNotificationRequest</code> instance that is created by this constructor has the following default property values:</p>
<ul>
<li>
<p><code>IsNotifiedOnce</code> is set to the specified value.</p>
</li>
<li>
<p><code>Timeout</code> is set to the specified value.</p>
</li>
<li>
<p><code>IsPersistent</code> is set to the specified value.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAIDBFI" name="BBAIDBFI"></a>
<hr />
<h2 class="refsect2"><a id="sthref2754" name="sthref2754"></a>OracleDependency Static Fields</h2>
<p>The <code>OracleDependency</code> static field is listed in <a href="#CIABGHGA">Table 9-7</a>.</p>
<div class="tblruleformal"><a id="sthref2755" name="sthref2755"></a><a id="CIABGHGA" name="CIABGHGA"></a>
<p class="titleintable">Table 9-7 OracleDependency Static Field</p>
<table class="RuleFormal" title="OracleDependency Static Field" summary="Rows are static fields, first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t17">Static Field</th>
<th align="left" valign="bottom" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t17" headers="r1c1-t17">
<p><a href="#BBAJCCHE">Port</a></p>
</td>
<td align="left" headers="r2c1-t17 r1c2-t17">
<p>Indicates the port number that the notification listener listens on, for database notifications</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAJCCHE" name="BBAJCCHE"></a>
<h3 class="refsect3">Port</h3>
<p>This static field indicates the port number that the notification listener listens on, for database notifications.</p>
<a id="sthref2756" name="sthref2756"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public static int Port{get; set}
</pre>
<a id="sthref2757" name="sthref2757"></a>
<p class="subhead2">Property Value</p>
<p>An <code>int</code> value that represents the number of the port that listens for the database notifications. If the port number is set to <code>-1</code>, a random port number is assigned for the listener when the listener is started. Otherwise, the specified port number is used to start the listener.</p>
<a id="sthref2758" name="sthref2758"></a>
<p class="subhead2">Exceptions</p>
<p><code>ArgumentOutOfRangeException</code> - The port number is set to a negative value.</p>
<p><code>InvalidOperationException</code> - The port number is being changed after the listener has started.</p>
<a id="sthref2759" name="sthref2759"></a>
<p class="subhead2">Remarks</p>
<p>The port number specified by the <code>OracleDependency.Port</code> static field is used by the notification listener that runs within the same application domain as ODP.NET. This port number receives Continuous Query Notifications from the database. One notification listener is capable of listening to all Continuous Query Notifications and therefore, only one notification listener is created for each application domain.</p>
<p>The notification listener is created when a command associated with an <code>OracleDependency</code> object is executed for the first time during the application domain lifetime. The port number specified for the <code>OracleDependency.Port</code> static field is used by the listener for its lifetime. The <code>OracleDependency.Port</code> static field can be changed after the creation of the notification listener, but doing so does not affect the actual port number that the notification listener listens on.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBABDECH" name="BBABDECH"></a>
<hr />
<h2 class="refsect2"><a id="sthref2760" name="sthref2760"></a>OracleDependency Static Methods</h2>
<p><code>OracleDependency</code> static methods are listed in <a href="#CIABDJFJ">Table 9-8</a>.</p>
<div class="tblruleformal"><a id="sthref2761" name="sthref2761"></a><a id="CIABDJFJ" name="CIABDJFJ"></a>
<p class="titleintable">Table 9-8 OracleDependency Static Methods</p>
<table class="RuleFormal" title="OracleDependency Static Methods" summary="Rows are static methods, first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t20">Static Methods</th>
<th align="left" valign="bottom" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t20" headers="r1c1-t20">
<p><code>Equals</code></p>
</td>
<td align="left" headers="r2c1-t20 r1c2-t20">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t20" headers="r1c1-t20">
<p><a href="#BBAFDAHJ">GetOracleDependency</a></p>
</td>
<td align="left" headers="r3c1-t20 r1c2-t20">
<p>Returns an <code>OracleDependency</code> instance based on the specified unique identifier</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAFDAHJ" name="BBAFDAHJ"></a>
<h3 class="refsect3">GetOracleDependency</h3>
<p>This static method returns an <code>OracleDependency</code> instance based on the specified unique identifier.</p>
<a id="sthref2762" name="sthref2762"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public static OracleDependency GetOracleDependency(string <span class="italic">guid</span>)
</pre>
<a id="sthref2763" name="sthref2763"></a>
<p class="subhead2">Parameters</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">guid</span></code></p>
<p>The string representation of the unique identifier of an <code>OracleDependency</code> instance.</p>
</li>
</ul>
<a id="sthref2764" name="sthref2764"></a>
<p class="subhead2">Exceptions</p>
<p><code>ArgumentException</code> - The specified unique identifier cannot locate an <code>OracleDependency</code> instance.</p>
<a id="sthref2765" name="sthref2765"></a>
<p class="subhead2">Return Value</p>
<p>An <code>OracleDependency</code> instance that has the specified <code><span class="codeinlineitalic">guid</span></code> parameter.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAFGGJD" name="BBAFGGJD"></a>
<hr />
<h2 class="refsect2"><a id="sthref2766" name="sthref2766"></a>OracleDependency Properties</h2>
<p><code>OracleDependency</code> properties are listed in <a href="#CIADEIAF">Table 9-9</a>.</p>
<div class="tblruleformal"><a id="sthref2767" name="sthref2767"></a><a id="CIADEIAF" name="CIADEIAF"></a>
<p class="titleintable">Table 9-9 OracleDependency Properties</p>
<table class="RuleFormal" title="OracleDependency Properties" summary="Rows are properties. first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t23">Properties</th>
<th align="left" valign="bottom" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t23" headers="r1c1-t23">
<p><a href="#BBAEGAJJ">DataSource</a></p>
</td>
<td align="left" headers="r2c1-t23 r1c2-t23">
<p>Indicates the data source associated with the <code>OracleDependency</code> instance</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t23" headers="r1c1-t23">
<p><a href="#BBAECHGB">HasChanges</a></p>
</td>
<td align="left" headers="r3c1-t23 r1c2-t23">
<p>Indicates whether or not there is any change in the database associated with this dependency</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t23" headers="r1c1-t23">
<p><a href="#BBAEIEJJ">Id</a></p>
</td>
<td align="left" headers="r4c1-t23 r1c2-t23">
<p>Represents the unique identifier for the <code>OracleDependency</code> instance</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t23" headers="r1c1-t23">
<p><a href="#BBAHEHCI">IsEnabled</a></p>
</td>
<td align="left" headers="r5c1-t23 r1c2-t23">
<p>Specifies whether or not the dependency is enabled between the application and the database</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t23" headers="r1c1-t23">
<p><a href="#BABJADJF">QueryBasedNotification</a></p>
</td>
<td align="left" headers="r6c1-t23 r1c2-t23">
<p>Specifies whether the change notification registration is object-based or query-based</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t23" headers="r1c1-t23">
<p><a href="#BABBFFBI">RegisteredQueryIDs</a></p>
</td>
<td align="left" headers="r7c1-t23 r1c2-t23">
<p>Provides a list of <code>CHANGE_NOTIFICATION_QUERY_ID</code>s</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t23" headers="r1c1-t23">
<p><a href="#BBAGDEDH">RegisteredResources</a></p>
</td>
<td align="left" headers="r8c1-t23 r1c2-t23">
<p>Indicates the database resources that are registered in the notification registration</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t23" headers="r1c1-t23">
<p><a href="#BABGAAAH">RowidInfo</a></p>
</td>
<td align="left" headers="r9c1-t23 r1c2-t23">
<p>Specifies whether or not <code>ROWID</code> information is part of change notification events fired whenever data changes on the database</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r10c1-t23" headers="r1c1-t23">
<p><a href="#BBABBBIF">UserName</a></p>
</td>
<td align="left" headers="r10c1-t23 r1c2-t23">
<p>Indicates the database user name associated with the <code>OracleDependency</code> instance</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAEGAJJ" name="BBAEGAJJ"></a>
<h3 class="refsect3">DataSource</h3>
<p>This property indicates the data source associated with the <code>OracleDependency</code> instance.</p>
<a id="sthref2768" name="sthref2768"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public string DataSource{get;}
</pre>
<a id="sthref2769" name="sthref2769"></a>
<p class="subhead2">Property Value</p>
<p>A string that indicates the data source associated with the <code>OracleDependency</code> instance.</p>
<a id="sthref2770" name="sthref2770"></a>
<p class="subhead2">Remarks</p>
<p>The <code>DataSource</code> property is populated with the data source once the <code>OracleCommand</code> associated with the <code>OracleDependency</code> executes and registers for the notification successfully.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAECHGB" name="BBAECHGB"></a>
<h3 class="refsect3">HasChanges</h3>
<p>This property indicates whether or not there is any change in the database associated with this dependency.</p>
<a id="sthref2771" name="sthref2771"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public bool HasChanges{get;}
</pre>
<a id="sthref2772" name="sthref2772"></a>
<p class="subhead2">Property Value</p>
<p>A <code>bool</code> value that returns <code>True</code> if the database has detected changes that are associated with this dependency; otherwise, returns <code>False</code>.</p>
<a id="sthref2773" name="sthref2773"></a>
<p class="subhead2">Remarks</p>
<p>As an alternative to using the <code>OnChange</code> event, applications can check the <code>HasChanges</code> property to determine if there are any changes in the database associated with this dependency.</p>
<p>Once the <code>HasChanges</code> property is accessed, its value is reset to <code>False</code> so that the next notification can then be acknowledged.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAEIEJJ" name="BBAEIEJJ"></a>
<h3 class="refsect3">Id</h3>
<p>This property represents the unique identifier for the <code>OracleDependency</code> instance.</p>
<a id="sthref2774" name="sthref2774"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public string Id{get;}
</pre>
<a id="sthref2775" name="sthref2775"></a>
<p class="subhead2">Property Value</p>
<p>A string that represents the unique identifier that was generated for the <code>OracleDependency</code> instance when it was created.</p>
<a id="sthref2776" name="sthref2776"></a>
<p class="subhead2">Remarks</p>
<p>This property is set when the <code>OracleDependency</code> instance is created.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAHEHCI" name="BBAHEHCI"></a>
<h3 class="refsect3">IsEnabled</h3>
<p>This property specifies whether or not the dependency is enabled between the application and the database.</p>
<a id="sthref2777" name="sthref2777"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public bool IsEnabled {get;}
</pre>
<a id="sthref2778" name="sthref2778"></a>
<p class="subhead2">Property Value</p>
<p>A <code>bool</code> value that specifies whether or not dependency is enabled between the application and the database.</p>
<a id="sthref2779" name="sthref2779"></a>
<p class="subhead2">Remarks</p>
<p>The dependency between the application and the database is not established when the <code>OracleDependency</code> instance is created. The dependency is established when the command that is associated with this dependency is executed, at which time the notification request is registered with the database. The dependency ends when the notification registration is removed from the database or when it times out.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BABJADJF" name="BABJADJF"></a>
<h3 class="refsect3">QueryBasedNotification</h3>
<p>This instance property specifies whether the change notification registration is object-based or query-based.</p>
<a id="sthref2780" name="sthref2780"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public bool QueryBasedNotification{get; set;}
</pre>
<a id="sthref2781" name="sthref2781"></a>
<p class="subhead2">Property Value</p>
<p>Specifies whether the change notification registration is object-based or not.</p>
<a id="sthref2782" name="sthref2782"></a>
<p class="subhead2">Exceptions</p>
<p><code>ObjectDisposedException</code> - The object is already disposed.</p>
<a id="sthref2783" name="sthref2783"></a>
<p class="subhead2">Remarks</p>
<p>This property value will be ignored if it is set after the command execution that registers the command for change notification.</p>
<p>By default, this property is true.</p>
<p>ODP.NET developers can register their queries on the row level, not just the object level, beginning with Oracle Data Provider for .NET release 11.1 and Oracle Database 11<span class="italic">g</span> release 1 (11.1). The application only receives notification when the selected row or rows change. Query-based notifications provide developers more granularity for using client-side cached data, as they can be more specific about what changes the application needs to be notified of.</p>
<p><code>OracleNotificationType</code> enumeration is set to <code>Query</code> for query-based notifications.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BABBFFBI" name="BABBFFBI"></a>
<h3 class="refsect3">RegisteredQueryIDs</h3>
<p>This instance property provides a list of <code>CHANGE_NOTIFICATION_QUERY_ID</code>s.</p>
<a id="sthref2784" name="sthref2784"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public ArrayList RegisteredQueryIDs {get;}
</pre>
<a id="sthref2785" name="sthref2785"></a>
<p class="subhead2">Property Value</p>
<p>This property is an <code>ArrayList</code> of <code>CHANGE_NOTIFICATION_QUERY_ID</code>s.</p>
<a id="sthref2786" name="sthref2786"></a>
<p class="subhead2">Exceptions</p>
<p><code>ObjectDisposedException</code> - The object is already disposed.</p>
<a id="sthref2787" name="sthref2787"></a>
<p class="subhead2">Remarks</p>
<p>This property provides a list of <code>CHANGE_NOTIFICATION_QUERY_ID</code>s that uniquely identify the query that has been registered for change notification. The notification returned from the database will also contain these IDs, allowing applications to determine the query that the notifications are for.</p>
<p>The <code>QueryId</code> at index <span class="italic">n</span> in <code>RegisteredQueryIDs</code> is for the statement at index <span class="italic">n</span> the <code>RegisteredResources</code> at index <span class="italic">n</span>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAGDEDH" name="BBAGDEDH"></a>
<h3 class="refsect3">RegisteredResources</h3>
<p>This property indicates the database resources that are registered in the notification registration.</p>
<a id="sthref2788" name="sthref2788"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public ArrayList RegisteredResources{get;}
</pre>
<a id="sthref2789" name="sthref2789"></a>
<p class="subhead2">Property Value</p>
<p>The registered resources in the notification registration.</p>
<a id="sthref2790" name="sthref2790"></a>
<p class="subhead2">Remarks</p>
<p>The <code>ArrayList</code> contains all the command statement or statements that are registered for notification through this <code>OracleDependency</code> object. It is appropriately updated when the Continuous Query Notification is registered by a command execution.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BABGAAAH" name="BABGAAAH"></a>
<h3 class="refsect3">RowidInfo</h3>
<p>This property specifies whether or not <code>ROWID</code> information is part of change notification events fired whenever data changes on the database.</p>
<a id="sthref2791" name="sthref2791"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public OracleRowidInfo RowidInfo {get; set;};
 
</pre>
<a id="sthref2792" name="sthref2792"></a>
<p class="subhead2">Property Value</p>
<p>An <code>OracleRowidInfo</code> enumeration type that determines the inclusion of <code>ROWID</code> in the change notification event.</p>
<a id="sthref2793" name="sthref2793"></a>
<p class="subhead2">Remarks</p>
<p>There are three <code>OracleRowidInfo</code> enumeration types that are valid for this property:</p>
<ul>
<li>
<p><code>Default</code> includes <code>ROWID</code> information in the change notification event only if <code>OracleCommand.AddRowid</code> property is set to true or if <code>ROWID</code> is in the select list of the query that is registered for change notification.</p>
</li>
<li>
<p><code>Include</code> includes <code>ROWID</code> information regardless of whether or not <code>ROWID</code> is in the select-list for the query.</p>
</li>
<li>
<p><code>Exclude</code> excludes <code>ROWID</code> information regardless of whether or not <code>ROWID</code> is in the select-list.</p>
</li>
</ul>
<p>For change notification registrations that involve stored procedure executions, change notification events related to the <code>REF</code> <code>CURSOR</code> contain <code>ROWID</code> information only if <code>RowidInfo</code> property is set to <code>OracleRowidInfo.Include</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
<li>
<p><a href="OracleRowidInfoEnumeration.htm#BABHBEII">"OracleRowidInfo Enumeration"</a></p>
</li>
</ul>
</div>
<a id="BBABBBIF" name="BBABBBIF"></a>
<h3 class="refsect3">UserName</h3>
<p>This property indicates the database user name associated with the <code>OracleDependency</code> instance.</p>
<a id="sthref2794" name="sthref2794"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public string UserName{get;}
</pre>
<a id="sthref2795" name="sthref2795"></a>
<p class="subhead2">Property Value</p>
<p>A string that indicates the database user name associated with the <code>OracleDependency</code> instance. This database user registers the Continuous Query Notification request with the database.</p>
<a id="sthref2796" name="sthref2796"></a>
<p class="subhead2">Remarks</p>
<p>The <code>UserName</code> property is populated with the user name once the <code>OracleCommand</code> associated with the <code>OracleDependency</code> executes and registers for the notification successfully. Only the database user who creates the notification registration, or the database system administrator, can remove the registration.</p>
<p>The user specified by this property must have the <code>CHANGE</code> <code>NOTIFICATION</code> privilege to register successfully for the Continuous Query Notification with the database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAIEFJB" name="BBAIEFJB"></a>
<hr />
<h2 class="refsect2"><a id="sthref2797" name="sthref2797"></a>OracleDependency Methods</h2>
<p><code>OracleDependency</code> methods are listed in <a href="#CIAEHHBD">Table 9-10</a>.</p>
<div class="tblruleformal"><a id="sthref2798" name="sthref2798"></a><a id="CIAEHHBD" name="CIAEHHBD"></a>
<p class="titleintable">Table 9-10 OracleDependency Methods</p>
<table class="RuleFormal" title="OracleDependency Methods" summary="Rows are instance methods. first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t34">Methods</th>
<th align="left" valign="bottom" id="r1c2-t34">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t34" headers="r1c1-t34">
<p><a href="#BBADEBAJ">AddCommandDependency</a></p>
</td>
<td align="left" headers="r2c1-t34 r1c2-t34">
<p>Binds the <code>OracleDependency</code> instance to the specified <code>OracleCommand</code> instance</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t34" headers="r1c1-t34">
<p><code>Equals</code></p>
</td>
<td align="left" headers="r3c1-t34 r1c2-t34">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t34" headers="r1c1-t34">
<p><code>GetHashCode</code></p>
</td>
<td align="left" headers="r4c1-t34 r1c2-t34">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t34" headers="r1c1-t34">
<p><code>GetType</code></p>
</td>
<td align="left" headers="r5c1-t34 r1c2-t34">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t34" headers="r1c1-t34">
<p><a href="#BBACDEJA">RemoveRegistration</a></p>
</td>
<td align="left" headers="r6c1-t34 r1c2-t34">
<p>Removes the specified dependency between the application and the database</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t34" headers="r1c1-t34">
<p><code>ToString</code></p>
</td>
<td align="left" headers="r7c1-t34 r1c2-t34">
<p>Inherited from <code>System.Object</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBADEBAJ" name="BBADEBAJ"></a>
<h3 class="refsect3">AddCommandDependency</h3>
<p>This instance method binds the <code>OracleDependency</code> instance to the specified <code>OracleCommand</code> instance.</p>
<a id="sthref2799" name="sthref2799"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
Public void AddCommandDependency (OracleCommand <span class="italic">cmd</span>);
</pre>
<a id="sthref2800" name="sthref2800"></a>
<p class="subhead2">Parameters</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">cmd</span></code></p>
<p>The command that is to be bound to the <code>OracleDependency</code> object.</p>
</li>
</ul>
<a id="sthref2801" name="sthref2801"></a>
<p class="subhead2">Exceptions</p>
<p><code>ArgumentNullException</code> - The <code><span class="codeinlineitalic">cmd</span></code> parameter is null.</p>
<p><code>InvalidOperationException</code> - The specified <code>OracleCommand</code> instance already contains a notification request.</p>
<a id="sthref2802" name="sthref2802"></a>
<p class="subhead2">Remarks</p>
<p>An <code>OracleDependency</code> instance can bind to multiple <code>OracleCommand</code> instances.</p>
<p>While it binds an existing <code>OracleDependency</code> instance to an <code>OracleCommand</code> instance, the <code>AddCommandDependency</code> method creates an <code>OracleNotificationRequest</code> instance, and sets it to the specified <code>OracleCommand.Notification</code> property.</p>
<p>When this method creates an <code>OracleNotificationRequest</code> instance, the following <code>OracleNotificationRequest</code> properties are set:</p>
<ul>
<li>
<p><code>IsNotifiedOnce</code> is set to the value <code>True</code>.</p>
</li>
<li>
<p><code>Timeout</code> is set to 50,000 seconds.</p>
</li>
<li>
<p><code>IsPersistent</code> is set to the value <code>False</code>, indicating that the invalidation message is stored in an in-memory queue before delivery.</p>
</li>
</ul>
<p>With this method, multiple commands can be associated with a single Continuous Query Notification registration request. Furthermore, the <code>OracleNotificationRequest</code> attribute values assigned to the <code>OracleCommand</code> can be changed once the association between the <code>OracleCommand</code> and the <code>OracleDependency</code> is established.</p>
<p>However, when multiple <code>OracleCommand</code> objects are associated with a single <code>OracleDependency</code> object, the <code>OracleNotificationRequest</code> attributes (<code>Timeout</code>, <code>IsPersistent</code>, and <code>IsNotifiedOnce</code>) of the first executed <code>OracleCommand</code> object are used for registration, the attributes associated with subsequent <code>OracleCommand</code> executions will be ignored.</p>
<p>Furthermore, once a command associated with an <code>OracleDependency</code> is executed and registered, all other subsequent command executions and registration associated with the same <code>OracleDependency</code> must use a connection with the same <code>"User</code> <code>Id"</code> and <code>"Data</code> <code>Source"</code> connection string attribute value settings.</p>
<p>Otherwise, an exception will be thrown.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
<li>
<p><a href="#BBACGIFF">"OracleDependency(OracleCommand)"</a> for <code>OracleNotificationRequest</code> property value</p>
</li>
</ul>
</div>
<a id="BBACDEJA" name="BBACDEJA"></a>
<h3 class="refsect3">RemoveRegistration</h3>
<p>This instance method removes the specified dependency between the application and the database. Once the registration of the dependency is removed from the database, the <code>OracleDependency</code> is no longer able to detect any changes that the database undergoes.</p>
<a id="sthref2803" name="sthref2803"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public void RemoveRegistration(OracleConnection <span class="italic">con</span>)
</pre>
<a id="sthref2804" name="sthref2804"></a>
<p class="subhead2">Parameters</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">con</span></code></p>
<p>The connection associated with the <code>OracleDependency</code> instance.</p>
</li>
</ul>
<a id="sthref2805" name="sthref2805"></a>
<p class="subhead2">Exceptions</p>
<p><code>InvalidOperationException</code> - The associated connection is not open.</p>
<a id="sthref2806" name="sthref2806"></a>
<p class="subhead2">Remarks</p>
<p>The notification registration associated with the <code>OracleDependency</code> instance is removed from the database.</p>
<p>The <code>OracleConnection</code> parameter must be in an <span class="italic">opened</span> <span class="italic">state</span>. This instance method does not open the connection implicitly for the application.</p>
<p>An exception is thrown if the dependency is not valid.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBADAGAB" name="BBADAGAB"></a>
<hr />
<h2 class="refsect2"><a id="sthref2807" name="sthref2807"></a>OracleDependency Events</h2>
<p>The <code>OracleDependency</code> event is listed in <a href="#CIAGBBFD">Table 9-11</a>.</p>
<div class="tblruleformal"><a id="sthref2808" name="sthref2808"></a><a id="CIAGBBFD" name="CIAGBBFD"></a>
<p class="titleintable">Table 9-11 OracleDependency Event</p>
<table class="RuleFormal" title="OracleDependency Event" summary="Rows are events. first column is name, second column is description" dir="ltr" border="1" width="100%" frame="border" rules="all" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t38">Event</th>
<th align="left" valign="bottom" id="r1c2-t38">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t38" headers="r1c1-t38">
<p><a href="#BBAIBFAI">OnChange</a></p>
</td>
<td align="left" headers="r2c1-t38 r1c2-t38">
<p>An event that is sent when a database notification associated with the dependency is received from the database</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
<a id="BBAIBFAI" name="BBAIBFAI"></a>
<h3 class="refsect3">OnChange</h3>
<p>The <code>OnChange</code> event is sent when a database notification associated with the dependency is received from the database. The information related to the notification is stored in the <code>OracleChangeNotificationEventArgs</code> class.</p>
<a id="sthref2809" name="sthref2809"></a>
<p class="subhead2">Declaration</p>
<pre xml:space="preserve" class="oac_no_warn">// C#
public event OnChangeEventHandler OnChange;
</pre>
<a id="sthref2810" name="sthref2810"></a>
<p class="subhead2">Remarks</p>
<p>The <code>OnChange</code> event occurs if any result set associated with the dependency changes. For objects that are part of a Transaction, notifications will be received for each modified object. This event also occurs for other actions related to database or registration status, such as database shutdowns and startups, or registration timeouts.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro003.htm#BHCJFIAJ">"Oracle.DataAccess.Client Namespace"</a></p>
</li>
<li>
<p><a href="#BBABBDEF">OracleDependency Class</a></p>
</li>
<li>
<p><a href="#BBAEJCIB">OracleDependency Members</a></p>
</li>
</ul>
</div>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="changenote.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="OracleNotificationRequestClass.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
